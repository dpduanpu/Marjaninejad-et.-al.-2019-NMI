clear all; clear functions;close all;clc;
addpath('../physical_system_fcns/')
addpath('../generic_fcns/')
addpath('../../output/')
%net = babbling_fcn();
reward=-10000;
initial_babble_response = "../../output/babble_aug18_response.csv";
response_from_prior_activations_with_encodervals_filepath = initial_babble_response
input_prior_mat_path = "../../output/mat_from_babble_aug18_response_a.mat";
mat_output_filepath = "../../output/mat_for_round_1.mat";
new_activations_filepath= "../../output/new_trajectory_for_round_1.csv";
activations_and_kinematics_for_prior_encodervals_filepath = "../../output/nactivations_and_kinematics_for_prior_encodervals_1.csv";
new_desired_kinematics_filepath = "../../output/new_desired_kinematics_1.csv";
maximum_phase1_run_number=1000;
num_fine_search_iterations = 10;
goal_reward=100;
adapt=true;
[done] = bypython_generate_new_action_and_decide_fcn( initial_babble_response, ...
                                                      reward,...
                                                      response_from_prior_activations_with_encodervals_filepath,...
                                                      input_prior_mat_path,...
                                                      mat_output_filepath,...
                                                      new_activations_filepath,...
                                                      activations_and_kinematics_for_prior_encodervals_filepath,...
                                                      new_desired_kinematics_filepath,...
                                                      maximum_phase1_run_number,...
                                                      goal_reward,...
                                                      adapt,...
                                                      num_fine_search_iterations);
reward=120;
response_from_prior_activations_with_encodervals_filepath = "../../output/reinforce_experiment_around_1_response.csv";
input_prior_mat_path = mat_output_filepath;
mat_output_filepath = "../../output/mat_for_round_2.mat";
new_activations_filepath= "../../output/new_trajectory_for_round_2.csv";
activations_and_kinematics_for_prior_encodervals_filepath = "../../output/nactivations_and_kinematics_for_prior_encodervals_2.csv";
new_desired_kinematics_filepath = "../../output/new_desired_kinematics_2.csv";
[done] = bypython_generate_new_action_and_decide_fcn( initial_babble_response, ...
                                                      reward,...
                                                      response_from_prior_activations_with_encodervals_filepath,...
                                                      input_prior_mat_path,...
                                                      mat_output_filepath,...
                                                      new_activations_filepath,...
                                                      activations_and_kinematics_for_prior_encodervals_filepath,...
                                                      new_desired_kinematics_filepath,...
                                                      maximum_phase1_run_number,...
                                                      goal_reward,...
                                                      adapt,...
                                                      num_fine_search_iterations);
                                                  
reward=400; 
response_from_prior_activations_with_encodervals_filepath = "../../output/reinforce_experiment_around_2_response.csv";
input_prior_mat_path = mat_output_filepath;
mat_output_filepath = "../../output/mat_for_round_3.mat";
new_activations_filepath= "../../output/new_trajectory_for_round_3.csv";
activations_and_kinematics_for_prior_encodervals_filepath = "../../output/nactivations_and_kinematics_for_prior_encodervals_3.csv";
new_desired_kinematics_filepath = "../../output/new_desired_kinematics_3.csv";
[done] = bypython_generate_new_action_and_decide_fcn( initial_babble_response, ...
                                                      reward,...
                                                      response_from_prior_activations_with_encodervals_filepath,...
                                                      input_prior_mat_path,...
                                                      mat_output_filepath,...
                                                      new_activations_filepath,...
                                                      activations_and_kinematics_for_prior_encodervals_filepath,...
                                                      new_desired_kinematics_filepath,...
                                                      maximum_phase1_run_number,...
                                                      goal_reward,...
                                                      adapt,...
                                                      num_fine_search_iterations);